import{c as N,u as w,r as d,j as e,A as j,m as p,X as P}from"./index-DlQkSRLt.js";import{f}from"./products-B-ptVflc.js";import{P as v}from"./ProductCard-CyXvhEP8.js";import"./star-24iOqP5M.js";/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=N("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),C=[...new Set(f.map(t=>t.brand))],S=[...new Set(f.map(t=>t.category))],H=()=>{const[t,m]=w(),[b,x]=d.useState(!1),i=d.useMemo(()=>({search:t.get("search")||"",brands:t.getAll("brand")||[],categories:t.getAll("category")||[],minPrice:Number(t.get("minPrice"))||0,maxPrice:Number(t.get("maxPrice"))||500,sort:t.get("sort")||"rating-desc",onSale:t.get("onSale")==="true"}),[t]),u=d.useCallback((s,a)=>{const l=new URLSearchParams(t);a===""||a===!1||typeof a=="number"&&a===0?l.delete(s):l.set(s,String(a)),m(l,{replace:!0})},[t,m]),g=d.useCallback((s,a)=>{const l=new URLSearchParams(t),r=l.getAll(s);if(r.includes(a)){const c=r.filter(n=>n!==a);l.delete(s),c.forEach(n=>l.append(s,n))}else l.append(s,a);m(l,{replace:!0})},[t,m]),h=d.useMemo(()=>{let s=[...f];if(i.search){const r=i.search.toLowerCase();s=s.filter(c=>c.name.toLowerCase().includes(r)||c.brand.toLowerCase().includes(r)||c.tags.some(n=>n.toLowerCase().includes(r)))}i.brands.length>0&&(s=s.filter(r=>i.brands.includes(r.brand))),i.categories.length>0&&(s=s.filter(r=>i.categories.includes(r.category))),i.onSale&&(s=s.filter(r=>r.originalPrice)),s=s.filter(r=>r.price>=i.minPrice&&r.price<=i.maxPrice);const[a,l]=i.sort.split("-");return s.sort((r,c)=>{let n=r[a],o=c[a];return typeof n=="string"&&(n=n.toLowerCase()),typeof o=="string"&&(o=o.toLowerCase()),n<o?l==="asc"?-1:1:n>o?l==="asc"?1:-1:0}),s},[i]),y=()=>e.jsx("aside",{className:"w-full lg:w-72 lg:pr-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Sort by"}),e.jsxs("select",{value:i.sort,onChange:s=>u("sort",s.target.value),className:"w-full h-10 rounded-md border bg-muted px-3 text-sm focus:ring-1 focus:ring-primary focus:outline-none",children:[e.jsx("option",{value:"rating-desc",children:"Popularity"}),e.jsx("option",{value:"price-asc",children:"Price: Low to High"}),e.jsx("option",{value:"price-desc",children:"Price: High to Low"}),e.jsx("option",{value:"name-asc",children:"Alphabetical"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Price Range"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",value:i.minPrice||"",onChange:s=>u("minPrice",Number(s.target.value)),className:"w-full h-10 rounded-md border bg-muted px-3 text-sm",placeholder:"Min"}),e.jsx("span",{children:"-"}),e.jsx("input",{type:"number",value:i.maxPrice||"",onChange:s=>u("maxPrice",Number(s.target.value)),className:"w-full h-10 rounded-md border bg-muted px-3 text-sm",placeholder:"Max"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Brands"}),e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-2",children:C.map(s=>e.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i.brands.includes(s),onChange:()=>g("brands",s),className:"h-4 w-4 rounded text-primary focus:ring-primary"}),s]},s))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Categories"}),e.jsx("div",{className:"space-y-2",children:S.map(s=>e.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i.categories.includes(s),onChange:()=>g("categories",s),className:"h-4 w-4 rounded text-primary focus:ring-primary"}),s]},s))})]})]})});return e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"text-4xl font-extrabold tracking-tight",children:"All Products"}),e.jsx("p",{className:"mt-2 text-lg text-muted-foreground",children:"Find your perfect fit from our entire collection."})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row",children:[e.jsx("div",{className:"hidden lg:block",children:e.jsx(y,{})}),e.jsxs("main",{className:"flex-1 lg:pl-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:[h.length," products found"]}),e.jsxs("button",{className:"lg:hidden flex items-center gap-2 px-4 py-2 border rounded-md text-sm",onClick:()=>x(!0),children:[e.jsx(k,{className:"h-4 w-4"}),"Filters"]})]}),e.jsx(j,{children:e.jsx(p.div,{layout:!0,className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-8",children:h.map(s=>e.jsx(v,{product:s},s.id))})}),h.length===0&&e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"No Products Found"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Try adjusting your filters or search term."})]})]})]}),e.jsx(j,{children:b&&e.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/60 lg:hidden",onClick:()=>x(!1),children:e.jsxs(p.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 left-0 h-full w-4/5 max-w-sm bg-background p-6 overflow-y-auto",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Filters"}),e.jsx("button",{onClick:()=>x(!1),className:"p-1",children:e.jsx(P,{className:"h-6 w-6"})})]}),e.jsx(y,{})]})})})]})};export{H as default};
