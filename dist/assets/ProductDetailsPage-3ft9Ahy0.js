import{d as b,e as y,r as a,j as e,L as v,b as i,f as w,H as S}from"./index-DlQkSRLt.js";import{f as o}from"./products-B-ptVflc.js";import{S as C,P}from"./ProductCard-CyXvhEP8.js";import{S as k}from"./star-24iOqP5M.js";import{M,P as z}from"./plus-C9WTCBmP.js";const D=()=>{const{id:m}=b(),s=o.find(r=>r.id===m),{addToCart:x,toggleWishlist:u,isInWishlist:h}=y(),p=s?h(s.id):!1,[l,f]=a.useState((s==null?void 0:s.sizes[0])||null),[n,d]=a.useState(1),[c,g]=a.useState(s==null?void 0:s.imageUrl),j=a.useMemo(()=>s?o.filter(r=>r.category===s.category&&r.id!==s.id).slice(0,4):[],[s]);if(!s)return e.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Product not found"}),e.jsx(v,{to:"/products",className:"mt-4 inline-block text-primary hover:underline",children:"Back to all products"})]});const N=()=>{l?x({product:s,size:l,quantity:n}):alert("Please select a size.")};return e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[e.jsxs("div",{children:[e.jsx("div",{className:"aspect-square w-full overflow-hidden rounded-lg bg-secondary mb-4",children:e.jsx("img",{src:c,alt:s.name,className:"w-full h-full object-cover"})}),e.jsx("div",{className:"grid grid-cols-4 gap-4",children:s.gallery.map((r,t)=>e.jsx("button",{onClick:()=>g(r),className:i("aspect-square rounded-md overflow-hidden ring-2 ring-transparent transition",c===r?"ring-primary":"hover:ring-primary/50"),children:e.jsx("img",{src:r,alt:`${s.name} thumbnail ${t+1}`,className:"w-full h-full object-cover"})},t))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-primary",children:s.category}),e.jsx("h1",{className:"text-4xl font-extrabold tracking-tight mt-1",children:s.name}),e.jsx("p",{className:"text-lg text-muted-foreground mt-1",children:s.brand}),e.jsxs("div",{className:"flex items-center mt-4",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((r,t)=>e.jsx(k,{className:i("h-5 w-5",t<Math.round(s.rating)?"text-amber-400 fill-amber-400":"text-muted-foreground")},t))}),e.jsxs("p",{className:"ml-2 text-sm text-muted-foreground",children:[s.rating.toFixed(1)," (",s.reviewCount," reviews)"]})]}),e.jsx("p",{className:"text-3xl font-bold text-primary mt-6",children:w(s.price)}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-sm font-medium text-foreground",children:"Select Size"}),e.jsx("div",{className:"grid grid-cols-5 gap-2 mt-2",children:s.sizes.map(r=>e.jsx("button",{onClick:()=>f(r),className:i("border rounded-md py-2 text-sm font-medium transition",l===r?"bg-primary text-primary-foreground border-primary":"hover:border-primary"),children:r},r))})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-8",children:[e.jsxs("div",{className:"flex items-center border rounded-md",children:[e.jsx("button",{onClick:()=>d(r=>Math.max(1,r-1)),className:"p-3",children:e.jsx(M,{className:"h-4 w-4"})}),e.jsx("span",{className:"px-4 font-semibold",children:n}),e.jsx("button",{onClick:()=>d(r=>r+1),className:"p-3",children:e.jsx(z,{className:"h-4 w-4"})})]}),e.jsxs("button",{onClick:N,className:"flex-1 bg-primary text-primary-foreground h-12 rounded-md font-semibold flex items-center justify-center gap-2 hover:bg-primary/90 transition",children:[e.jsx(C,{className:"h-5 w-5"}),"Add to Cart"]}),e.jsx("button",{onClick:()=>u(s),className:"h-12 w-12 border rounded-md flex items-center justify-center hover:border-primary hover:text-primary transition",children:e.jsx(S,{className:i("h-6 w-6",p&&"fill-primary text-primary")})})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"font-semibold text-foreground",children:"Description"}),e.jsx("p",{className:"mt-2 text-muted-foreground text-sm leading-relaxed",children:s.description})]})]})]}),e.jsxs("div",{className:"mt-24",children:[e.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"You May Also Like"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:j.map(r=>e.jsx(P,{product:r},r.id))})]})]})};export{D as default};
